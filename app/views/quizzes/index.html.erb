<% provide(:title, '新着') %>
<h1>新着</h1>
<div class="row">

  <div class="col-md-8 col-md-offset-2">
    <ul class="main_quiz_index">
      <% @quizzes.each do |quiz| %>
        <div class="card_quiz">
          <label class="lbl_quiz_question">Q. 韻を踏んでいる正しい組み合わせは？</label>
            <% quiz.choices.each do |choice| %>
              <div class="row">
                <b class="col-md-1"></b> 
                <div class="choices col-md-11">
                  <span class="choice">
                    <%= check_box_tag "chk_quiz_choice_#{choice.id}", class: "form-check-label" %>
                    <%= label_tag "chk_quiz_choice_#{choice.id}", choice.content, class: "form-check-input" %>
                  </span>
                </div>
              </div>
            <% end %>

          <div class="btn_quiz_answer">
            <%= button_tag "回答", type: 'button' , class: "btn btn-primary btn-lg btn_quiz_answer_font" %>
          </div>
        </div>
      <% end %>
    </ul>
  </div>
</div>

<script type="text/javascript">

  var quizChoiceCheckboxElementList = document.querySelectorAll('input[type=checkbox]');
  quizChoiceCheckboxElementList.forEach(quizChoiceCheckboxElement => {
    quizChoiceCheckboxElement.addEventListener('change', event => {
      changeCheckBoxBackgroundColor(event.target.id)
    })
  })

  var changeCheckBoxBackgroundColor = id => {
    const CHK_OFF_BACKGROUND_COLOR = "#FFFFFF"
    const CHK_ON_BACKGROUND_COLOR = "#C6E5FF"

    const element = document.getElementById(id);
    const elementStyle = element.parentNode.style
    
    if(element.checked === true){
      elementStyle.backgroundColor = CHK_ON_BACKGROUND_COLOR;
      return;
    }

    elementStyle.backgroundColor = CHK_OFF_BACKGROUND_COLOR;
  }

</script>