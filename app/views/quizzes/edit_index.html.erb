<link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" rel="stylesheet">

<% provide(:title, '投稿一覧') %>
<h1><%= yield(:title) %></h1>

<div class="main_quiz_edit_index">
  <div class='row'>
    <div class='col-md-3'></div>
    <div class='col-md-6'>
      <%= form_with(model: @quiz_posts_search_form, url: edit_index_search_quizzes_path, method: :get, local: true, class: 'search_conditions_field') do |f| %>
        
        <div class="form-group row search_conditions_field_item">
            <label class='col-md-3 col-form-label search_conditions_field_input_lbl'>期間:</label>
          <div class='col-md-4'>        
            <%= f.date_field :from_date, class: 'form-control', value: f.object.from_date %>
          </div>
            <label class='col-md-1 col-form-label'>〜</label>
          <div class='col-md-4'>
            <%= f.date_field :to_date, class: 'form-control', value: f.object.to_date %>
          </div>
        </div>

        <div class="form-group row search_conditions_field_item">
            <label class='col-md-3 col-form-label search_conditions_field_input_lbl'>母音の文字数:</label>
          <div class='col-md-4'>        
            <%= f.select(:from_rhyme_characters, f.object.rhyme_select_box_choices, { include_blank: f.object.rhyme_select_box_init_msg }, class: 'form-control') %>
          </div>
            <label class='col-md-1 col-form-label'>〜</label>
          <div class='col-md-4'>
            <%= f.select(:to_rhyme_characters, f.object.rhyme_select_box_choices, { include_blank: f.object.rhyme_select_box_init_msg }, class: 'form-control') %>
          </div>
        </div>

        <div class="form-group row search_conditions_field_item">
          <label class='col-md-3 col-form-label search_conditions_field_input_lbl'>検索ワード:</label>
          <div class='col-md-9'>        
            <%= f.text_field :search_word, class: 'form-control' %>
          </div>
        </div>
        
        <div class='btn_search'>
          <%= f.submit "検索", class: 'btn btn-default' %>
        </div>
      <% end %>
    </div>
    <div class='col-md-3'></div>
  </div>

  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <div class="row edit_index_field"> 
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col" class="col-md-1">編集</th>
              <th scope="col" class="col-md-4">選択肢</th>
              <th scope="col" class="col-md-1">母音</th>
              <th scope="col" class="col-md-3">解説</th>
              <th scope="col" class="col-md-1">YouTube</th>
              <th scope="col" class="col-md-1">投稿日</th>
              <th scope="col" class="col-md-1">削除</th>
            </tr>
          </thead>
          <tbody>
            <% @quiz_edits.each do |quiz_edit| %>
              <tr>
                <td class="col-md-1">
                  <%= link_to(edit_quiz_path(quiz_edit.quiz_id)) do %>
                    <i class="fa fa-edit fa-lg" aria-hidden="true"></i>
                  <% end %>
                </th>
                <td class="col-md-4"><%= quiz_edit.choices %></th>
                <td class="col-md-1"><%= quiz_edit.rhymes %></th>
                <td class="col-md-3"><%= quiz_edit.commentary %></th>
                <td class="col-md-1 youtube_column"><%= quiz_edit.with_or_without_youtube %></th>
                <td class="col-md-1"><%= quiz_edit.created_at %></th>
                <td class="col-md-1">
                  <%= link_to("/quizzes/#{quiz_edit.quiz_id}", method: :delete, data: { confirm: "削除しますか?" }) do %>
                    <i class="fa fa-trash fa-lg" aria-hidden="true"></i>
                  <% end %>
                </th>
              </tr>
            <% end %>
          </tbody>
        </table>
        <%= paginate(@quiz_edits) %>
      </div>
    </div>
  </div>
</div>